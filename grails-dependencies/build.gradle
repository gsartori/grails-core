dependencies {
    for (String exported : [
            "org.grails:grails-bootstrap:${project.version}",
            "org.grails:grails-plugin-rest:${project.version}",
            "org.grails:grails-plugin-databinding:${project.version}",
            "org.grails:grails-plugin-i18n:${project.version}",
            "org.grails:grails-plugin-services:${project.version}",
            "org.grails:grails-plugin-url-mappings:${project.version}",
            "org.grails:grails-plugin-interceptors:${project.version}",
            "org.grails.plugins:async:${project.version}",
            "org.grails.plugins:events:${project.version}",
            "org.grails.plugins:gsp:${project['gsp.version']}",
    ]) {
        api "${exported}"
    }
    for (String exported : [
            "com.h2database:h2:${project['h2.version']}",
    ]) {
        runtimeOnly "${exported}"
    }
}

apply plugin: 'maven-publish'
publishing {
    publications {
        maven(MavenPublication) {
            from components.java

            pom.withXml {
                def xml = asNode()

                xml.children().last() + pomInfo
            }
        }
    }
}
